# EZ Manual Simplifier プロジェクト要件定義書

## プロジェクト概要

### 目的

複雑なマニュアルやドキュメントを、**要約ではなく簡易化**してくれるWebサイトを作成する。

- **入出力形態**: URLや各種ドキュメントに対応
- **リサーチ機能**: テキスト入力でユーザー希望の内容をリサーチし、マニュアルを作成することにも対応
- **コスト最適化**: MCPやAPIを利用するがコストを抑えること
- **コンテキスト管理**: コンテキストオーバーを防ぐために無駄に消費しないこと

将来的には、Webサイト自動作成システムへの発展を目指す。

### 目標

- マニュアル簡易化サイトの構築（Phase 1）

- 複数エージェント連携システムの構築（Phase 2）

- 完全自動化Webサイト生成システムの構築（Phase 3）

## 技術要件

### Phase 1: マニュアル簡易化サイト（1-2週間）

#### 機能要件（Phase 1）

1. **テキスト簡易化機能**

   - 入力: 複雑なマニュアルテキスト、URL、各種ドキュメント形式（PDF, DOCX, PPTX, XLSX, 画像, HTML, 音声）

   - 処理: Gemini APIを使用した簡易化（**要約ではなく簡易化**）

   - 出力: わかりやすい形式のテキスト

   - 簡易化レベル: 低/中/高の3段階

   - **コスト最適化**: API呼び出しを最小限に、キャッシュ活用、バッチ処理

   - **コンテキストオーバー防止**: チャンク分割、不要なコンテキスト削除

2. **リサーチ機能**（新規）

   - テキスト入力でユーザー希望の内容をリサーチ

   - MCPやAPIを利用してマニュアルを作成

   - コストを抑えたリサーチ（キャッシュ活用、不要なAPI呼び出しを避ける）

3. **Webインターフェース**

   - シンプルで直感的なUI

   - レスポンシブデザイン（PC/スマホ対応）

   - リアルタイムプレビュー機能

4. **出力形式**

   - HTML形式

   - Markdown形式

   - プレーンテキスト形式

#### 技術仕様（Phase 1）

- **フロントエンド**: HTML, CSS, JavaScript（Vanilla JS）

- **バックエンド**: Python Flask/FastAPI

- **AI API**: Google Gemini API

- **デプロイ**: GitHub Pages + Cloudflare Pages

- **ホスティング**: 無料プラットフォーム活用

#### 非機能要件

- レスポンス時間: 10秒以内

- 同時接続: 10ユーザー

- 可用性: 99%以上

- セキュリティ: HTTPS必須

### Phase 2: エージェント連携システム（2-3週間）

#### 機能要件（Phase 2）

1. **エージェントオーケストラ体制**

   - マスターエージェント（Orchestrator）によるタスク分解・割り振り

   - 入り口ルートの明確化（GitHub Issue, Cursor Chat）

   - 作業の得意なエージェントへの割り振り

   - サブエージェントの活用（コンテキスト消費抑制）

   - エージェント間の連携プロトコル

2. **Issue自動作成システム**

   - Cursor Chatからの指示受信

   - GitHub Issue自動生成

   - タスク分解機能

3. **タスク管理システム**

   - タスクの分類・優先度付け

   - 進捗管理とトラッキング

   - ブロッカー管理

4. **複数エージェント統合**

   - Gemini API連携

   - GitHub Actions自動実行

   - 基本的なPR自動生成

5. **作業記録システム**

   - 作業ログの自動記録

   - 進捗管理機能

   - エラーログ管理

#### 技術仕様（Phase 2）

- **自動化**: GitHub Actions

- **API連携**: GitHub API, Gemini API

- **データベース**: SQLite（ローカル）/GitHub Issues

- **通知**: GitHub Webhook

### Phase 3: 完全自動化システム（1-2ヶ月）

#### 機能要件（Phase 3）

1. **Webサイト自動作成**

   - テンプレートシステム

   - 自動デプロイ機能

   - カスタマイズ機能

2. **高度なエージェント協調**

   - 複数AIエージェントの連携

   - 自動バグ修正機能

   - 品質管理システム

3. **iPhone対応**

   - モバイル最適化

   - タッチインターフェース

   - オフライン機能

## 制約条件

### コスト制約

- 開発・運用コストを最小限に抑制

- 無料プラットフォームの最大活用

- **API使用量の最適化**
  - MCPやAPIを利用するがコストを抑える
  - 必要な時だけAPIを呼び出す
  - 結果をキャッシュする
  - バッチ処理を活用する
  - 効率的なプロンプト設計

- **コンテキストオーバー防止**
  - 無駄に消費しないこと
  - チャンク分割で大きなテキストを処理
  - 不要なコンテキストを削除
  - サブエージェントでコンテキストを分散
  - 参照ドキュメントを明確化し、必要な部分のみ読み込む

### 技術制約

- 既存のGitHubリポジトリをベースとする

- Python 3.8以上対応

- モダンブラウザ対応（IE非対応）

### 運用制約

- iPhone環境からの操作可能

- 再現性のある設計

- 保守性の確保

## 成功指標

### Phase 1

- [ ] マニュアル簡易化機能の動作確認（**要約ではなく簡易化**）

- [ ] リサーチ機能の動作確認

- [ ] コスト最適化の実装（API呼び出し削減、キャッシュ活用）

- [ ] コンテキストオーバー防止の実装（チャンク分割）

- [ ] Webインターフェースの完成

- [ ] GitHub Pagesでの公開

### Phase 2

- [ ] エージェントオーケストラ体制の構築

- [ ] 入り口ルートの明確化と実装

- [ ] タスク管理システムの構築

- [ ] 進捗管理システムの構築

- [ ] サブエージェント定義と実装

- [ ] Issue自動作成機能の動作

- [ ] エージェント連携の実現

- [ ] 作業記録システムの構築

### Phase 3

- [ ] Webサイト自動作成機能

- [ ] 複数エージェント協調

- [ ] iPhone対応の完了

## リスク管理

### 技術リスク

- API制限による機能制約

- パフォーマンス問題

- セキュリティ脆弱性

### 運用リスク

- 開発期間の延長

- 予算超過

- 品質問題

### 対策

- 段階的開発によるリスク分散

- 無料プラットフォーム活用によるコスト削減

- 継続的なテストと品質管理

## 今後の拡張性

### 短期的拡張

- 多言語対応

- 追加出力形式

- UI/UX改善

### 長期的拡張

- 他AIエージェントとの連携

- クラウドサービス統合

- エンタープライズ機能

## 関連ドキュメント

- [エージェントオーケストラ体制](./AGENT_ORCHESTRATION.md)
- [タスク管理システム](./TASK_MANAGEMENT.md)
- [進捗管理システム](./PROGRESS_TRACKING.md)
- [コスト最適化ガイドライン](./COST_OPTIMIZATION.md)
- [サブエージェント定義](./SUB_AGENTS.md)
- [タスク一覧](./TASKS.md)

---

**作成日**: 2024年12月
**最終更新**: 2025年1月11日
**バージョン**: 2.0
**作成者**: kazu-4728
**更新者**: Orchestrator Agent
